{"version":3,"sources":["./src/app/guards/auth.guard.ts","./src/app/grocery_module/grocery-routing.module.ts","./src/app/grocery_module/home/home.component.html","./src/app/grocery_module/home/home.component.ts","./src/app/grocery_module/grocery.module.ts"],"names":[],"mappings":"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","file":"grocery_module-grocery-module.js","sourcesContent":["import {\r\n  Injectable\r\n} from \"@angular/core\";\r\nimport {\r\n  ActivatedRouteSnapshot,\r\n  CanActivate,\r\n  Router,\r\n  RouterStateSnapshot,\r\n  UrlTree\r\n} from \"@angular/router\";\r\nimport {\r\n  Observable\r\n} from \"rxjs\";\r\nimport {\r\n  take,\r\n  map\r\n} from 'rxjs/operators';\r\n\r\nimport {\r\n  AuthService\r\n} from \"../services/auth.service\";\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\n\r\n// Prevents user from accessing the app if not logged in. \r\nexport class AuthGuard implements CanActivate {\r\n\r\n  constructor(private authService: AuthService, private router: Router) {}\r\n\r\n  canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): boolean | UrlTree | Promise < boolean | UrlTree > | Observable < boolean | UrlTree > {\r\n    \r\n    return this.authService.checkIfLoggedIn().pipe(take(1), map(\r\n      (user: {\r\n        auth: boolean,\r\n        status: number\r\n      }) => {\r\n        if (user.auth) {\r\n          return true;\r\n        } else if (!user.auth && user.status === 401) {\r\n          return this.router.createUrlTree(['/', 'auth', 'login']);\r\n        } else if (!user.auth && user.status === 500) {\r\n          return this.router.createUrlTree(['/', 'app', 'internal-server-error']);\r\n        }\r\n      }\r\n    ));\r\n  }\r\n\r\n}\r\n","import {\r\n  NgModule\r\n} from '@angular/core';\r\nimport {\r\n  RouterModule,\r\n  Routes\r\n} from '@angular/router';\r\nimport { AuthGuard } from '../guards/auth.guard';\r\nimport {\r\n  ServerDownComponent\r\n} from '../server-down/server-down.component';\r\nimport {\r\n  HomeComponent\r\n} from './home/home.component';\r\n\r\nconst routes: Routes = [{\r\n  path: '',\r\n  component: HomeComponent,\r\n  canActivate: [AuthGuard],\r\n  canActivateChild: [AuthGuard]\r\n}, {\r\n  path: 'internal-server-error',\r\n  component: ServerDownComponent\r\n}]\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class GroceryRoutingModule {\r\n\r\n}\r\n","<div class=\"row text-light h-100\">\n  <div class=\"col-4 col-sm-3 col-md-1 h-100 border-right\">\n    <div class=\"row border-bottom\" style=\"height: 15%;\">\n      <div class=\"col-12 d-flex align-items-end justify-content-center\">\n        <img [src]=\"user.photoUrl\" class=\"image-fluid rounded-circle\" style=\"max-width: 40px;\"\n          alt=\"Image could not be loaded\" *ngIf=\"user.photoUrl\">\n      </div>\n      <div class=\"col-12 text-center\">\n        {{user.name|titlecase}}\n      </div>\n    </div>\n    <div class=\"row pointer\" style=\"height: 85%;\">\n      <div class=\"col-12 align-items-center d-flex justify-content-center option\" style=\"height: 25%;\"\n        data-toggle=\"tooltip\" data-placement=\"top\" title=\"WishList\">\n        <img src=\"./../../../assets/shopping-bag.png\" alt=\"\">\n      </div>\n      <div class=\"col-12 align-items-center d-flex justify-content-center option\" style=\"height: 25%;\"\n        data-toggle=\"tooltip\" data-placement=\"top\" title=\"Inventory\">\n        <img src=\"./../../../assets/inventory.png\" alt=\"\">\n      </div>\n      <div class=\"col-12 align-items-center d-flex justify-content-center option\" style=\"height: 25%;\"\n        data-toggle=\"tooltip\" data-placement=\"top\" title=\"Settings\">\n        <img src=\"./../../../assets/settings.png\" alt=\"\">\n      </div>\n      <div class=\"col-12 align-items-center d-flex justify-content-center option\" style=\"height: 25%;\"\n        data-toggle=\"tooltip\" data-placement=\"top\" title=\"Logout\" data-toggle=\"modal\" data-target=\"#logoutModal\">\n        <img src=\"./../../../assets/logout.png\" alt=\"\">\n      </div>\n    </div>\n  </div>\n  <div class=\"col-8 col-sm-9 col-md-11\">\n  </div>\n</div>\n\n<div class=\"modal fade\" id=\"logoutModal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"logoutModal\" aria-hidden=\"true\">\n    <div class=\"modal-dialog\" role=\"document\">\n      <div class=\"modal-content bg-dark\">\n        <div class=\"modal-header\">\n          <h5 class=\"modal-title text-light\" id=\"logoutModal\">Logout</h5>\n          <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n            <span aria-hidden=\"true\">&times;</span>\n          </button>\n        </div>\n        <div class=\"modal-body bg-dark text-light\">\n         Do you wish to log out?\n        </div>\n        <div class=\"modal-footer\">\n          <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\" id=\"closeModalBtn\">Close</button>\n          <button type=\"button\" class=\"btn btn-danger\" (click)=\"logout()\">Logout</button>\n        </div>\n      </div>\n    </div>\n  </div>\n","import {\n  Component,\n  OnInit\n} from '@angular/core';\nimport {\n  Router\n} from '@angular/router';\nimport {\n  AuthService\n} from './../../services/auth.service';\n\n@Component({\n  selector: 'app-home',\n  templateUrl: './home.component.html',\n  styleUrls: ['./home.component.css']\n})\nexport class HomeComponent implements OnInit {\n\n  user: {\n    name: string;\n    photoUrl: string;\n  }\n\n  constructor(private authService: AuthService, private router: Router) {}\n\n  ngOnInit(): void {\n    this.user = {\n      name: localStorage.getItem('grocery-user-name'),\n      photoUrl: localStorage.getItem('grocery-user-photo')\n    }\n  }\n\n  logout() {\n    this.authService.logout();\n    document.getElementById('closeModalBtn').click();\n    this.router.navigate(['/', 'auth', 'login']);\n  }\n\n}\n","import { CommonModule } from \"@angular/common\";\r\nimport { NgModule } from \"@angular/core\";\r\nimport { GroceryRoutingModule } from \"./grocery-routing.module\";\nimport { HomeComponent } from './home/home.component';\r\n\r\n@NgModule({\r\n    declarations: [HomeComponent],\r\n    imports: [CommonModule, GroceryRoutingModule],\r\n    exports: []\r\n})\r\nexport class GroceryModule{\r\n\r\n}"],"sourceRoot":"webpack:///"}