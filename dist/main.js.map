{"version":3,"sources":["./src/app/guards/login.guard.ts","./src/environments/environment.ts","./src/app/app.component.ts","./src/app/app.component.html","./src/app/app.module.ts","./src/app/services/auth.service.ts","./src/app/page-not-found/page-not-found.component.ts","./src/app/page-not-found/page-not-found.component.html","./src/app/app-routing.module.ts","./src/app/server-down/server-down.component.ts","./src/app/server-down/server-down.component.html","./src/main.ts","./$_lazy_route_resource lazy namespace object"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["import {\r\n  Injectable\r\n} from \"@angular/core\";\r\nimport {\r\n  ActivatedRouteSnapshot,\r\n  CanActivate,\r\n  Router,\r\n  RouterStateSnapshot,\r\n  UrlTree\r\n} from \"@angular/router\";\r\nimport {\r\n  Observable,\r\n} from \"rxjs\";\r\nimport {\r\n  take,\r\n  map\r\n} from 'rxjs/operators';\r\nimport {\r\n  AuthService\r\n} from \"../services/auth.service\";\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\n\r\n// Prevents user from navigating to the auth module if he is already logged in.\r\nexport class LoginGuard implements CanActivate {\r\n  constructor(private authService: AuthService, private router: Router) {}\r\n  canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): boolean | UrlTree | Promise < boolean | UrlTree > | Observable < boolean | UrlTree > {\r\n\r\n    return this.authService.checkIfLoggedIn().pipe(take(1), map(\r\n      (user: {\r\n        auth: boolean,\r\n        status: number\r\n      }) => {\r\n        if (user.auth) {\r\n          // navigate away if already logged in\r\n          this.router.navigate(['/', 'app']);\r\n          return false;\r\n        } \r\n\r\n        return true;\r\n      }\r\n    ));\r\n  }\r\n}\r\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nimport {\n  FacebookLoginProvider,\n  GoogleLoginProvider\n} from \"angularx-social-login\";\n\nexport const environment = {\n  production: false,\n  googleConfig: {\n    id: GoogleLoginProvider.PROVIDER_ID,\n    provider: new GoogleLoginProvider('950213084014-qm91m03256m6plee79t66io7nsd5ou0c.apps.googleusercontent.com')\n  },\n  facebookConfig: {\n    id: FacebookLoginProvider.PROVIDER_ID,\n    provider: new FacebookLoginProvider('971923123335329')\n  },\n  recaptchaSiteKey: '6Lf5G0saAAAAAI0B0XArViinyIZ9qQK8eAf1KmVA'\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import {\n  Component,\n  OnInit\n} from '@angular/core';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent implements OnInit {\n\n  constructor() {}\n\n  ngOnInit() {\n\n  }\n\n\n\n}\n","<div class=\"container-fluid bg-gradient\" style=\"height: 100vh;\">\n  <router-outlet></router-outlet>\n</div>\n","import {\n  NgModule\n} from '@angular/core';\nimport {\n  BrowserModule\n} from '@angular/platform-browser';\nimport {\n  HttpClientModule\n} from '@angular/common/http';\n\nimport {\n  SocialLoginModule,\n  SocialAuthServiceConfig\n} from 'angularx-social-login';\n\nimport {\n  AppRoutingModule\n} from './app-routing.module';\n\nimport {\n  AppComponent\n} from './app.component';\nimport {\n  RecaptchaFormsModule,\n  RecaptchaModule\n} from 'ng-recaptcha';\nimport {\n  PageNotFoundComponent\n} from './page-not-found/page-not-found.component';\n\nimport {\n  ServerDownComponent\n} from './server-down/server-down.component';\n\nimport {\n  environment\n} from './../environments/environment';\n\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    PageNotFoundComponent,\n    ServerDownComponent,\n  ],\n  imports: [\n    BrowserModule,\n    AppRoutingModule,\n    HttpClientModule,\n    RecaptchaModule,\n    RecaptchaFormsModule,\n    SocialLoginModule\n  ],\n  providers: [{\n    provide: 'SocialAuthServiceConfig',\n    useValue: {\n      autoLogin: false,\n      providers: [\n        environment.googleConfig,\n        environment.facebookConfig\n      ]\n    } as SocialAuthServiceConfig\n  }],\n  bootstrap: [AppComponent]\n})\nexport class AppModule {}\n","import {\r\n  Injectable\r\n} from \"@angular/core\";\r\n\r\nimport {\r\n  HttpClient,\r\n  HttpHeaders,\r\n  HttpErrorResponse\r\n} from '@angular/common/http';\r\n\r\nimport {\r\n  Observable,\r\n  of ,\r\n  throwError\r\n} from \"rxjs\";\r\n\r\nimport {\r\n  catchError,\r\n  map\r\n} from 'rxjs/operators';\r\n\r\nimport {\r\n  SocialAuthService,\r\n  GoogleLoginProvider,\r\n  FacebookLoginProvider\r\n} from \"angularx-social-login\";\r\n\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class AuthService {\r\n\r\n  //url = 'http://localhost:8080/'\r\n  url='';\r\n  constructor(private htttpClient: HttpClient, private socialAuthService: SocialAuthService) {}\r\n\r\n  register(data: {\r\n    name: string,\r\n    email: string,\r\n    password: string\r\n  }): Observable < any > {\r\n\r\n    const headers = {\r\n      'content-type': 'application/json'\r\n    }\r\n    return this.htttpClient.post(`${this.url}auth/register`, data, {\r\n      headers\r\n    }).pipe(catchError(this.errorHandler))\r\n  }\r\n\r\n  login(data: {\r\n    email: string,\r\n    password: string\r\n  }): Observable < any > {\r\n    const headers = new HttpHeaders({\r\n      'content-type': 'application/json'\r\n    });\r\n\r\n    return this.htttpClient.post(`${this.url}auth/login`, data, {\r\n      headers\r\n    }).pipe(catchError(this.errorHandler));\r\n  }\r\n\r\n  getResetLink(email: string): Observable < any > {\r\n    const headers = new HttpHeaders({\r\n      'content-type': 'application/json'\r\n    });\r\n\r\n    return this.htttpClient.post(`${this.url}auth/get-reset-link`, {\r\n      email\r\n    }, {\r\n      headers\r\n    }).pipe(catchError(this.errorHandler));\r\n  }\r\n\r\n  resetPassword(password: string, token: string): Observable < any > {\r\n    const headers = new HttpHeaders({\r\n      'content-type': 'application/json',\r\n      'x-access-token': token\r\n    })\r\n    return this.htttpClient.post(`${this.url}auth/reset-password`, {\r\n      password\r\n    }, {\r\n      headers\r\n    }).pipe(catchError(this.errorHandler));\r\n  }\r\n\r\n  validateCatpcha(recaptchaToken: string) {\r\n    const headers = new HttpHeaders({\r\n      'content-type': 'application/json'\r\n    });\r\n    return this.htttpClient.post(`${this.url}auth/validate-captcha`, {\r\n      recaptchaToken\r\n    }, {\r\n      headers\r\n    }).pipe(catchError(this.errorHandler));\r\n  }\r\n\r\n  resendActivationMail(email: string) {\r\n    const headers = new HttpHeaders({\r\n      'content-type': 'application/json'\r\n    });\r\n    return this.htttpClient.post(`${this.url}auth/activation/resend-mail/`, {\r\n      email\r\n    }, {\r\n      headers\r\n    }).pipe(catchError(this.errorHandler));\r\n  }\r\n\r\n\r\n  checkIfLoggedIn(): Observable < any > {\r\n    let token = localStorage.getItem('grocery-login-token');\r\n    if (!token) {\r\n      token = '';\r\n    }\r\n\r\n    const headers = {\r\n      'x-access-token': token,\r\n      'content-type': 'application/json'\r\n    }\r\n\r\n    /* \r\n    There are two important points here.\r\n    1) This function is an async function because it depends on the servers response.\r\n    2) The auth guards consume this method to determine if the user is logged in. \r\n\r\n    Simply returning a boolean will not work here. So we need to return an observable.\r\n    \r\n    If there are no errors, we are using 'map' operator to extract the results in an observable.\r\n    If there are errors, we are creating a new observable using the 'of' operator.\r\n\r\n    If we dont return observable the guards will stop working.*/\r\n\r\n    return this.htttpClient.post(`${this.url}auth/validate-token`, {}, {\r\n      headers\r\n    }).pipe(\r\n      map((user: {\r\n        auth: boolean,\r\n        message: string\r\n      }) => {\r\n        if (user) {\r\n          return {\r\n            auth: user.auth,\r\n            status: 200\r\n          };\r\n        }\r\n      }), catchError((err: HttpErrorResponse) => {\r\n        return of({\r\n          auth: err.error.auth,\r\n          status: err.status\r\n        });\r\n      })\r\n    );\r\n  }\r\n\r\n  // generic funtion for social login. The user data has be retrieved in the login component.\r\n  // We are not subscribing here because unsubscribing to socialAuthService.authState is easier there.\r\n  socialLogin(provider: string) {\r\n    if (provider === 'google') {\r\n      this.socialAuthService.signIn(GoogleLoginProvider.PROVIDER_ID);\r\n    } else if (provider === 'facebook') {\r\n      this.socialAuthService.signIn(FacebookLoginProvider.PROVIDER_ID);\r\n    }\r\n  }\r\n\r\n   /* Sending the user token and googlId. The server will decode the token to get the payload.\r\n   The server will create a new user if its a new user. \r\n   The server will return jwt, name and photo url. */\r\n  googleBackendSignIn(token: string, googleId: string) {\r\n    const headers = new HttpHeaders({\r\n      'x-access-token': token\r\n    });\r\n    return this.htttpClient.post(`${this.url}social-auth/google-login`, {\r\n      googleId\r\n    }, {\r\n      headers\r\n    }).pipe(catchError(this.errorHandler));\r\n\r\n  }\r\n\r\n  /* Sending the user details here. The server will create a new user if its a new user. \r\n   The new user will be created by fb_id because fb allows users to create account without an  email \r\n   The server will also return jwt, name and photo url.*/\r\n  facebookBackendSignIn(userData: {\r\n    email: string,\r\n    name: string,\r\n    id: string\r\n  }) {\r\n    const headers = new HttpHeaders({\r\n      'content-type': 'application/json'\r\n    });\r\n\r\n    return this.htttpClient.post(`${this.url}social-auth/facebook-login`, userData, {\r\n      headers\r\n    }).pipe(catchError(this.errorHandler));\r\n  }\r\n\r\n  logout() {\r\n    // We need to do error handling like this here. Using try and catch does not work.\r\n    this.socialAuthService.signOut().catch(err => {});\r\n\r\n    localStorage.setItem('grocery-login-token', '');\r\n    localStorage.setItem('grocery-user-name', '');\r\n    localStorage.setItem('grocery-user-photo', '');\r\n  }\r\n\r\n  // Utility Functions\r\n  \r\n  errorHandler(errorRes: HttpErrorResponse) {\r\n    let errorMessage: any = 'An unknown error occured. Please try again later';\r\n\r\n    // This can be improved.\r\n    switch (errorRes.status) {\r\n      case 500:\r\n        errorMessage = errorRes.error;\r\n        break;\r\n      case 401:\r\n        errorMessage = errorRes.error;\r\n        break;\r\n      case 409:\r\n        errorMessage = errorRes.error;\r\n        break;\r\n      case 404:\r\n        errorMessage = errorRes.error;\r\n        break;\r\n      case 400:\r\n        errorMessage = errorRes.error;\r\n        break;\r\n    }\r\n\r\n    return throwError(errorMessage);\r\n  }\r\n\r\n}\r\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-page-not-found',\n  templateUrl: './page-not-found.component.html',\n  styleUrls: ['./page-not-found.component.css']\n})\nexport class PageNotFoundComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<div class=\"row h-100 align-items-center align-content-center text-light\">\n  <div class=\"col-12 h2 text-center\">\n    404\n  </div>\n  <div class=\"col-12 h3 text-center\">\n    Page Not Found\n  </div>\n  <div class=\"col-12 text-center\">\n      (<a class=\"text-link text-warning small\" [routerLink]=\"['/', 'app']\">Go Back</a>)\n  </div>\n</div>\n","import {\r\n  NgModule\r\n} from \"@angular/core\";\r\nimport {\r\n  PreloadAllModules,\r\n  RouterModule,\r\n  Routes\r\n} from '@angular/router';\r\n\r\nimport {\r\n  LoginGuard\r\n} from \"./guards/login.guard\";\r\nimport {\r\n  PageNotFoundComponent\r\n} from \"./page-not-found/page-not-found.component\";\r\n\r\n\r\nconst routes: Routes = [{\r\n    path: '',\r\n    redirectTo: 'auth/login',\r\n    pathMatch: 'full'\r\n  }, {\r\n    path: 'auth',\r\n    loadChildren: () => import('./auth_module/auth.module').then(m => m.AuthModule),\r\n    canActivate: [LoginGuard]\r\n  },\r\n  {\r\n    path: 'app',\r\n    loadChildren: () => import('./grocery_module/grocery.module').then(m => m.GroceryModule)\r\n    // Auth guard has been applied inside the module. \r\n    // Bring page not found and server error page routes here to apply auth guard here\r\n  },\r\n  {\r\n    path: '**',\r\n    component: PageNotFoundComponent\r\n  }\r\n]\r\n\r\n@NgModule({\r\n  declarations: [],\r\n  imports: [RouterModule.forRoot(routes, {\r\n    preloadingStrategy: PreloadAllModules\r\n  })],\r\n  exports: [RouterModule]\r\n})\r\nexport class AppRoutingModule {\r\n\r\n}\r\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-server-down',\n  templateUrl: './server-down.component.html',\n  styleUrls: ['./server-down.component.css']\n})\nexport class ServerDownComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<div class=\"row h-100 align-items-center align-content-center text-light\">\n    <div class=\"col-12 h2 text-center\">\n      500\n    </div>\n    <div class=\"col-12 h3 text-center\">\n      Internal Server Error\n    </div>\n    \n  </div>\n  ","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"zn8P\";"],"sourceRoot":"webpack:///"}